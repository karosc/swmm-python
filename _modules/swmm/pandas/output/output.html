
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>swmm.pandas.output.output &#8212; swmm-pandas 0.1.0 documentation</title>
    
  <link href="../../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/blank.css" />
    
  <link rel="preload" as="script" href="../../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../../../_static/swmm-python.png"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../../../index.html">
  <img src="../../../../_static/swmm-pandas.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../../installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../../usage.html">
  Usage
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../../reference/index.html">
  API Reference
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <h1>Source code for swmm.pandas.output.output</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os.path</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">NoReturn</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">aenum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">extend_enum</span>
<span class="kn">from</span> <span class="nn">julian</span> <span class="kn">import</span> <span class="n">from_jd</span>

<span class="c1"># Third party imports</span>
<span class="kn">from</span> <span class="nn">swmm.toolkit</span> <span class="kn">import</span> <span class="n">output</span><span class="p">,</span> <span class="n">shared_enum</span>
<span class="kn">from</span> <span class="nn">swmm.pandas.output.tools</span> <span class="kn">import</span> <span class="n">arrayish</span>
<span class="kn">from</span> <span class="nn">swmm.pandas.output.structure</span> <span class="kn">import</span> <span class="n">Structure</span>
<span class="kn">from</span> <span class="nn">swmm.pandas.output.enums</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">link_attribute</span><span class="p">,</span>
    <span class="n">node_attribute</span><span class="p">,</span>
    <span class="n">subcatch_attribute</span><span class="p">,</span>
    <span class="n">system_attribute</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">def</span> <span class="nf">output_open_handler</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Checks if output file is open before running function.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    func : function</span>
<span class="sd">        method of Output class</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">inner_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">inner_function</span>


<div class="viewcode-block" id="Output"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.html#swmm.pandas.Output">[docs]</a><span class="k">class</span> <span class="nc">Output</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<div class="viewcode-block" id="Output.__init__"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.html#swmm.pandas.Output.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">binfile</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Base class for a SWMM binary output file.</span>

<span class="sd">        The output object provides several options to process timeseries within binary output file.</span>

<span class="sd">        Output files should be closed after use prevent memory leaks. Close them explicitly with</span>
<span class="sd">        the `_close()` method or deleting the object using `del`, or use it with a context manager.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            # Using a the _close method</span>
<span class="sd">            &gt;&gt;&gt; from swmm.pandas import Output</span>
<span class="sd">            &gt;&gt;&gt; out = Output(&#39;tests/Model.out&#39;)</span>
<span class="sd">            &gt;&gt;&gt; print(out.project_size)</span>
<span class="sd">            [3, 9, 8, 1, 3]</span>
<span class="sd">            &gt;&gt;&gt; out._close() # can also use `del out`</span>
<span class="sd">            &gt;&gt;&gt;</span>
<span class="sd">            # Using a context manager</span>
<span class="sd">            &gt;&gt;&gt; with Output(&#39;tests/Model.out&#39;) as out:</span>
<span class="sd">            ...     print(out.pollutants)</span>
<span class="sd">            (&#39;groundwater&#39;, &#39;pol_rainfall&#39;, &#39;sewage&#39;)</span>



<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        binfile : str</span>
<span class="sd">            model binary file path</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_binfile</span> <span class="o">=</span> <span class="n">binfile</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_period</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_report</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_handle</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timeIndex</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_project_size</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_subcatchments</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nodes</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_links</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pollutants</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># have to copy attribute dicts since they are edited</span>
        <span class="c1"># to include pollutants when outfile is opened</span>
        <span class="c1"># editing global attributes would break things</span>
        <span class="c1"># if more than one output object was created</span>
        <span class="c1"># from different output files</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subcatch_attributes</span> <span class="o">=</span> <span class="n">subcatch_attribute</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_attributes</span> <span class="o">=</span> <span class="n">node_attribute</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">link_attributes</span> <span class="o">=</span> <span class="n">link_attribute</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">system_attributes</span> <span class="o">=</span> <span class="n">system_attribute</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># need copies of enumes to extend them for pollutants</span>
        <span class="c1"># looked into using swmm.toolkit.output_metadata but it</span>
        <span class="c1"># extends global enums, which can break having multiple</span>
        <span class="c1"># output objects opened in the same python session.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_subcatchAttrEnum</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span>
            <span class="s2">&quot;SubcatchAttribute&quot;</span><span class="p">,</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">shared_enum</span><span class="o">.</span><span class="n">SubcatchAttribute</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
            <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nodeAttrEnum</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span>
            <span class="s2">&quot;NodeAttribute&quot;</span><span class="p">,</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">shared_enum</span><span class="o">.</span><span class="n">NodeAttribute</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
            <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_linkAttrEnum</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span>
            <span class="s2">&quot;LinkAttribute&quot;</span><span class="p">,</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">shared_enum</span><span class="o">.</span><span class="n">LinkAttribute</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
            <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span></div>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_elementIndex</span><span class="p">(</span>
        <span class="n">elementID</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="n">indexSquence</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">elementType</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Validate the index of a model element passed to Output methods. Used to</span>
<span class="sd">        convert model element names to their index in the out file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elementID : str, int</span>
<span class="sd">            The name or index of the model element listed in the index_dict dict.</span>
<span class="sd">        indexSquence : one of more string</span>
<span class="sd">            The ordered sequence against which to validate the index</span>
<span class="sd">            (one of self.nodes, self.links, self.subcatchments).</span>
<span class="sd">        elementType : str</span>
<span class="sd">            The type of model element (e.g. node, link, etc.)</span>
<span class="sd">            Only used to print the exception if an attribute cannot be found.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            The integer index of the requested element.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        OutputException</span>
<span class="sd">            Exception if element cannot be found in indexSequence.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elementID</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">integer</span><span class="p">)):</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">elementID</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">indexSquence</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elementID</span><span class="p">)</span>

        <span class="c1"># since this class can pull multiple attributes and elements in one function</span>
        <span class="c1"># call it is probably better to do some pre-validation of input arguments</span>
        <span class="c1"># before starting a potentially lengthy data pull</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">elementType</span><span class="si">}</span><span class="s2"> ID: </span><span class="si">{</span><span class="n">elementID</span><span class="si">}</span><span class="s2"> does not exist in model output.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validateAttribute</span><span class="p">(</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">validAttributes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to validate attribute arguments of element_series, element_attribute,</span>
<span class="sd">        and element_result functions.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The attribute to validate against validAttributes.</span>
<span class="sd">        validAttributes : dict</span>
<span class="sd">            THe dict of attributes against which to validate attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Tuple[list, list]</span>
<span class="sd">            Two arrays, one of attribute names and one of attribute indicies.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this kind of logic was needed in the series and results functions.</span>
        <span class="c1"># not sure if this is the best way, but it felt a bit DRYer to</span>
        <span class="c1"># put it into a funciton</span>

        <span class="k">if</span> <span class="n">attribute</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">attributeArray</span> <span class="o">=</span> <span class="n">validAttributes</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">):</span>
            <span class="n">attributeArray</span> <span class="o">=</span> <span class="n">attribute</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">attributeArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">attribute</span><span class="p">]</span>

        <span class="c1"># allow mixed input of attributes</span>
        <span class="c1"># accept string names, integers, or enums values in the same list</span>
        <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">attrib</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">):</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attrib</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
                <span class="n">attributeArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">attrib</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                <span class="n">attributeIndexArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrib</span><span class="p">)</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attrib</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">integer</span><span class="p">)):</span>
                <span class="c1"># will raise index error if not in range</span>
                <span class="n">attribName</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">validAttributes</span><span class="p">)[</span><span class="n">attrib</span><span class="p">]</span>
                <span class="n">attributeArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">attribName</span>
                <span class="n">attributeIndexArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validAttributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attribName</span><span class="p">))</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attrib</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">validAttributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attrib</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Attribute </span><span class="si">{</span><span class="n">attrib</span><span class="si">}</span><span class="s2"> not in valid attribute list: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">validAttributes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="n">attributeIndexArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Input type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">attrib</span><span class="p">)</span><span class="si">}</span><span class="s2"> not valid. Must be one of int, str, or Enum&quot;</span>
                <span class="p">)</span>

        <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">validAttributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">atr</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">atr</span> <span class="ow">in</span> <span class="n">attributeArray</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validateElement</span><span class="p">(</span>
        <span class="n">element</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">validElements</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to validate element arguments of element_series, element_attribute,</span>
<span class="sd">        and element_result functions.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        element : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The element name or index or None. If None, return all elements in</span>
<span class="sd">            validElements.</span>
<span class="sd">        validElements : Sequence[str]</span>
<span class="sd">            Tuple of elements against which to validate element.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Tuple[list, list]</span>
<span class="sd">            Two arrays, one of element names and one of element indicies.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this kind of logic was needed in the series and results functions</span>
        <span class="c1"># not sure if this is the best way, but it felt a bit DRYer to</span>
        <span class="c1"># put it into a funciton</span>

        <span class="k">if</span> <span class="n">element</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">elementArray</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">validElements</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">):</span>
            <span class="n">elementArray</span> <span class="o">=</span> <span class="n">element</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">elementArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">element</span><span class="p">]</span>

        <span class="n">elementIndexArray</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># allow mixed input of elements. string names can be mixed</span>
        <span class="c1"># with integer indicies in the same input list</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">elementArray</span><span class="p">):</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">integer</span><span class="p">)):</span>
                <span class="c1"># will raise index error if not in range</span>
                <span class="n">elemName</span> <span class="o">=</span> <span class="n">validElements</span><span class="p">[</span><span class="n">elem</span><span class="p">]</span>
                <span class="n">elementArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">elemName</span>
                <span class="n">elementIndexArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">elementIndexArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Output</span><span class="o">.</span><span class="n">_elementIndex</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">validElements</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Input type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span><span class="si">}</span><span class="s2"> not valid. Must be one of int, str&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">elementArray</span><span class="p">,</span> <span class="n">elementIndexArray</span>

    <span class="k">def</span> <span class="nf">_checkPollutantName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check pollutant name against existing attribute dicts.</span>
<span class="sd">        Rename and and warn if existing attribute is duplicated.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : str</span>
<span class="sd">            The name of pollutant.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            The validated name of pollutant.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">elems</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcatch_attributes</span><span class="p">:</span>
            <span class="n">elems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;subcatchment&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_attributes</span><span class="p">:</span>
            <span class="n">elems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;node&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">link_attributes</span><span class="p">:</span>
            <span class="n">elems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_attributes</span><span class="p">:</span>
            <span class="n">elems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;system&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elems</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Pollutent </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is a duplicate of existing </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">elems</span><span class="p">)</span><span class="si">}</span><span class="s2"> attribute, renaming to pol_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;pol_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">_open</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Open a binary file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if binary file was opened successfully.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_binfile</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Output file at: &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_binfile</span><span class="si">}</span><span class="s2">&#39; does not exist&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">output</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_binfile</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="n">from_jd</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">get_start_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span> <span class="o">+</span> <span class="mf">2415018.5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_report</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">get_times</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">shared_enum</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">REPORT_STEP</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_period</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">get_times</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">shared_enum</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">NUM_PERIODS</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_period</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report</span><span class="p">)</span>

            <span class="c1"># load pollutants if not already loaded</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pollutants</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># load pollutant data if it has not before</span>
                <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">project_size</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_pollutants</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_checkPollutantName</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_objectName</span><span class="p">(</span><span class="n">shared_enum</span><span class="o">.</span><span class="n">ElementType</span><span class="o">.</span><span class="n">POLLUT</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
                <span class="p">)</span>

                <span class="c1"># extend enums to include pollutants</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">total</span><span class="p">):</span>
                    <span class="n">symbolic_name</span> <span class="o">=</span> <span class="s2">&quot;POLLUT_CONC_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                    <span class="n">extend_enum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_subcatchAttrEnum</span><span class="p">,</span> <span class="n">symbolic_name</span><span class="p">,</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span>
                    <span class="n">extend_enum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nodeAttrEnum</span><span class="p">,</span> <span class="n">symbolic_name</span><span class="p">,</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span>
                    <span class="n">extend_enum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_linkAttrEnum</span><span class="p">,</span> <span class="n">symbolic_name</span><span class="p">,</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nom</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pollutants</span><span class="p">):</span>
                    <span class="n">symbolic_name</span> <span class="o">=</span> <span class="s2">&quot;POLLUT_CONC_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">subcatch_attributes</span><span class="p">[</span><span class="n">nom</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subcatchAttrEnum</span><span class="p">[</span>
                        <span class="n">symbolic_name</span>
                    <span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_attributes</span><span class="p">[</span><span class="n">nom</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodeAttrEnum</span><span class="p">[</span><span class="n">symbolic_name</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">link_attributes</span><span class="p">[</span><span class="n">nom</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linkAttrEnum</span><span class="p">[</span><span class="n">symbolic_name</span><span class="p">]</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Close an opened binary file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if binary file was closed successfully.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_delete_handle</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">output</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1">###### outfile property getters ######</span>

    <span class="nd">@property</span>
    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">report</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the reporting timestep in seconds.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            The reporting timestep in seconds.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report</span>

    <span class="nd">@property</span>
    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the reporting start datetime.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        datetime</span>
<span class="sd">            The reporting start datetime.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span>

    <span class="nd">@property</span>
    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the reporting end datetime.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        datetime</span>
<span class="sd">            The reporting end datetime.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_end</span>

    <span class="nd">@property</span>
    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">period</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the number of reporting timesteps in the binary output file.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            The number of reporting timesteps.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_period</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">project_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the number of each model element type available in out binary output file</span>
<span class="sd">        in the following order:</span>

<span class="sd">        [subcatchment, node, link, system, pollutant]</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list</span>
<span class="sd">            A list of numbers of each model type.</span>

<span class="sd">            [nSubcatchments, nNodes, nLinks, nSystems(1), nPollutants]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_project_size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_project_size</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_project_size</span>

    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">_load_project_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Load model size into self._project_size&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_project_size</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">get_proj_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pollutants</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of pollutants available in SWMM binary output file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">         Tuple[str]</span>
<span class="sd">           A tuple of pollutant names.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># chose not to write a pollutant loader method</span>
        <span class="c1"># because loading such is kind of imperative to the functionality</span>
        <span class="c1"># of other data getter methods, which don&#39;t necessarily</span>
        <span class="c1"># call pollutants method. Instead, pollutant loading logic is</span>
        <span class="c1"># thrown in the _open() method, and this method calls open if</span>
        <span class="c1"># pollutants are not available.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pollutants</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pollutants</span>

    <span class="nd">@property</span>
    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return SWMM binary output file unit type from `swmm.toolkit.shared_enum.UnitSystem`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Tuple[int]</span>
<span class="sd">            Tuple of integers indicating system units, flow units, and units for each pollutant.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">get_units</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return SWMM binary output file unit type from `swmm.toolkit.shared_enum.UnitSystem`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        List[str]</span>
<span class="sd">            List of string names for system units, flow units, and units for each pollutant.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">shared_enum</span><span class="o">.</span><span class="n">UnitSystem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_unit</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">shared_enum</span><span class="o">.</span><span class="n">FlowUnits</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_unit</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">shared_enum</span><span class="o">.</span><span class="n">ConcUnits</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unit</span><span class="p">[</span><span class="mi">2</span><span class="p">:]]</span>

    <span class="nd">@property</span>
    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return SWMM version used to generate SWMM binary output file results.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            Integer representation of SWMM version used to make output file.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">get_version</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>

    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">_objectName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get object name from SWMM binary output file using object type and object index.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_type : int</span>
<span class="sd">            The object type from swmm.toolkit.shared_enum.ElementType.</span>
<span class="sd">        index : int</span>
<span class="sd">            The object index.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            object name</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">get_elem_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">object_type</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="c1">##### timestep setters and getters #####</span>
    <span class="k">def</span> <span class="nf">_time2step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dateTime</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="kc">None</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">,</span>
            <span class="n">datetime</span><span class="p">,</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">,</span>
            <span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">,</span>
            <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">]],</span>
        <span class="p">],</span>
        <span class="n">ifNone</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;nearest&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Convert datetime value to SWMM timestep index. By deafult, this returns the nearest timestep to</span>
<span class="sd">        to the requested date, so it will always return a time index available in the binary output file.</span>


<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dateTime : datetime-like or string or sequence of such</span>
<span class="sd">            datetime to convert. Must be a datetime-like object or convertable</span>
<span class="sd">            with `pd.to_datetime`.</span>

<span class="sd">        ifNone : int</span>
<span class="sd">            The value to return if dateTime is None, defaults to 0.</span>

<span class="sd">        method: str</span>
<span class="sd">            The method name to pass to pandas `get_indexer`_, default to &quot;nearest.</span>

<span class="sd">            .. _get_indexer: https://pandas.pydata.org/docs/reference/api/pandas.Index.get_indexer.html</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[int, np.ndarray]</span>
<span class="sd">            SWMM model time step or array of time steps</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">dateTime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">ifNone</span><span class="p">]</span>

        <span class="n">dt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dateTime</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="c1"># if passing swmm time step, no indexing necessary</span>
        <span class="k">if</span> <span class="n">dt</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">dt</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

        <span class="c1"># ensure datetime value</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dateTime</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">timeIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns DatetimeIndex of reporting timeseries in binary output file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.DatetimeIndex</span>
<span class="sd">            A pandas `DatetimeIndex`_ for each reporting timestep.</span>

<span class="sd">            .. _DatetimeIndex: https://pandas.pydata.org/docs/reference/api/pandas.DatetimeIndex.html?highlight=datetimeindex#pandas.DatetimeIndex</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timeIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_timeIndex</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timeIndex</span>

    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">_load_timeIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Load model reporting times into self._times&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timeIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_report</span><span class="p">)</span> <span class="o">*</span> <span class="n">step</span>
                <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_period</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="c1">##### model element setters and getters #####</span>
    <span class="k">def</span> <span class="nf">_subcatchmentIndex</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">subcatchment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the swmm index for subcatchment.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        subcatchment : Union[str, int, Sequence[Union[str, int]]]</span>
<span class="sd">            The name(s) of subcatchment(s).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[List[int], int]</span>
<span class="sd">           The SWMM index(s) of subcatchment(s).</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subcatchment</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">))):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementIndex</span><span class="p">(</span><span class="n">subcatchment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcatchments</span><span class="p">,</span> <span class="s2">&quot;subcatchment&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_elementIndex</span><span class="p">(</span><span class="n">sub</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcatchments</span><span class="p">,</span> <span class="s2">&quot;subcatchment&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">subcatchment</span>
            <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">subcatchments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of subcatchments available in SWMM output binary file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Tuple[str]</span>
<span class="sd">            A tuple of model subcatchment names.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subcatchments</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_subcatchments</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subcatchments</span>

    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">_load_subcatchments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Load model size into self._project_size&quot;&quot;&quot;</span>
        <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">project_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_subcatchments</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_objectName</span><span class="p">(</span><span class="n">shared_enum</span><span class="o">.</span><span class="n">ElementType</span><span class="o">.</span><span class="n">SUBCATCH</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_nodeIndex</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the swmm index for node.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node : Union[str, int, Sequence[Union[str, int]]]</span>
<span class="sd">            The name(s) of node(s)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[List[int], int]</span>
<span class="sd">            The SWMM index(s) of node(s).</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">))):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementIndex</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="s2">&quot;node&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementIndex</span><span class="p">(</span><span class="n">nd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="s2">&quot;node&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">nd</span> <span class="ow">in</span> <span class="n">node</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of nodes available in SWMM binary output file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Tuple[str]</span>
<span class="sd">            A tuple of model node names.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_nodes</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodes</span>

    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">_load_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Load model nodes into self._nodes&quot;&quot;&quot;</span>
        <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">project_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_nodes</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_objectName</span><span class="p">(</span><span class="n">shared_enum</span><span class="o">.</span><span class="n">ElementType</span><span class="o">.</span><span class="n">NODE</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_linkIndex</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">link</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the swmm index for link.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        link : Union[str, int, Sequence[Union[str, int]]]</span>
<span class="sd">            The name(s) of link(s)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[List[int], int]</span>
<span class="sd">            SWMM index(s) of link(s).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">))):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementIndex</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">links</span><span class="p">,</span> <span class="s2">&quot;link&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementIndex</span><span class="p">(</span><span class="n">lnk</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">links</span><span class="p">,</span> <span class="s2">&quot;link&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">lnk</span> <span class="ow">in</span> <span class="n">link</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">links</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of links available in SWMM binary output file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Tuple[str]</span>
<span class="sd">            A tuple of model link names.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_links</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_links</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_links</span>

    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">_load_links</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Load model links into self._links&quot;&quot;&quot;</span>
        <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">project_size</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_links</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_objectName</span><span class="p">(</span><span class="n">shared_enum</span><span class="o">.</span><span class="n">ElementType</span><span class="o">.</span><span class="n">LINK</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="c1">####### series getters #######</span>
    <span class="k">def</span> <span class="nf">_model_series</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">elementIndexArray</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="n">attributeIndexArray</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="n">startIndex</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">endIndex</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">columns</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">getterFunc</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="k">if</span> <span class="n">columns</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;elem&quot;</span><span class="p">,</span> <span class="s2">&quot;attr&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;columns must be one of &#39;elem&#39;,&#39;attr&#39;, or None. </span><span class="si">{</span><span class="n">columns</span><span class="si">}</span><span class="s2"> was given&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
                        <span class="p">[</span>
                            <span class="n">getterFunc</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">elemIdx</span><span class="p">,</span> <span class="n">Attr</span><span class="p">,</span> <span class="n">startIndex</span><span class="p">,</span> <span class="n">endIndex</span>
                            <span class="p">)</span>
                            <span class="k">for</span> <span class="n">Attr</span> <span class="ow">in</span> <span class="n">attributeIndexArray</span>
                        <span class="p">],</span>
                        <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">elemIdx</span> <span class="ow">in</span> <span class="n">elementIndexArray</span>
                <span class="p">],</span>
                <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">columns</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;attr&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
                        <span class="p">[</span>
                            <span class="n">getterFunc</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">elemIdx</span><span class="p">,</span> <span class="n">Attr</span><span class="p">,</span> <span class="n">startIndex</span><span class="p">,</span> <span class="n">endIndex</span>
                            <span class="p">)</span>
                            <span class="k">for</span> <span class="n">Attr</span> <span class="ow">in</span> <span class="n">attributeIndexArray</span>
                        <span class="p">],</span>
                        <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">elemIdx</span> <span class="ow">in</span> <span class="n">elementIndexArray</span>
                <span class="p">],</span>
                <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">columns</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;elem&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
                        <span class="p">[</span>
                            <span class="n">getterFunc</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">elemIdx</span><span class="p">,</span> <span class="n">Attr</span><span class="p">,</span> <span class="n">startIndex</span><span class="p">,</span> <span class="n">endIndex</span>
                            <span class="p">)</span>
                            <span class="k">for</span> <span class="n">elemIdx</span> <span class="ow">in</span> <span class="n">elementIndexArray</span>
                        <span class="p">],</span>
                        <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">Attr</span> <span class="ow">in</span> <span class="n">attributeIndexArray</span>
                <span class="p">],</span>
                <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_model_series_index</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">elementArray</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="n">attributeArray</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="n">startIndex</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">endIndex</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">columns</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">columns</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;elem&quot;</span><span class="p">,</span> <span class="s2">&quot;attr&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;columns must be one of &#39;elem&#39;,&#39;attr&#39;, or None. </span><span class="si">{</span><span class="n">columns</span><span class="si">}</span><span class="s2"> was given&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dtIndex</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span><span class="p">[</span><span class="n">startIndex</span><span class="p">:</span><span class="n">endIndex</span><span class="p">],</span>
                <span class="nb">len</span><span class="p">(</span><span class="n">elementArray</span><span class="p">)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="n">indexArrays</span> <span class="o">=</span> <span class="p">[</span><span class="n">dtIndex</span><span class="p">]</span>
            <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span>
            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Result&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elementArray</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">indexArrays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">elementArray</span><span class="p">)</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span>
                        <span class="p">(</span><span class="n">endIndex</span> <span class="o">-</span> <span class="n">startIndex</span><span class="p">)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;element&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">indexArrays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">elementArray</span><span class="p">))</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span>
                        <span class="n">endIndex</span> <span class="o">-</span> <span class="n">startIndex</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;attribute&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">columns</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;attr&quot;</span><span class="p">:</span>
            <span class="n">dtIndex</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span><span class="p">[</span><span class="n">startIndex</span><span class="p">:</span><span class="n">endIndex</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">elementArray</span><span class="p">))</span>
            <span class="n">indexArrays</span> <span class="o">=</span> <span class="p">[</span><span class="n">dtIndex</span><span class="p">]</span>
            <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span>
            <span class="n">cols</span> <span class="o">=</span> <span class="n">attributeArray</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elementArray</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">indexArrays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">elementArray</span><span class="p">)</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">endIndex</span> <span class="o">-</span> <span class="n">startIndex</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;element&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">columns</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;elem&quot;</span><span class="p">:</span>
            <span class="n">dtIndex</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span><span class="p">[</span><span class="n">startIndex</span><span class="p">:</span><span class="n">endIndex</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">))</span>
            <span class="n">indexArrays</span> <span class="o">=</span> <span class="p">[</span><span class="n">dtIndex</span><span class="p">]</span>
            <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span>
            <span class="n">cols</span> <span class="o">=</span> <span class="n">elementArray</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">indexArrays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">)</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">endIndex</span> <span class="o">-</span> <span class="n">startIndex</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;attribute&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">(</span>
                <span class="n">indexArrays</span><span class="p">,</span>
                <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">cols</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Output.subcatch_series"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.subcatch_series.html#swmm.pandas.Output.subcatch_series">[docs]</a>    <span class="k">def</span> <span class="nf">subcatch_series</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">subcatchment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;rainfall&quot;</span><span class="p">,</span>
            <span class="s2">&quot;runoff_rate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;gw_outflow_rate&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">start</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">end</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;attr&quot;</span><span class="p">,</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get one or more time series for one or more subcatchment attributes.</span>
<span class="sd">        Specify series start index and end index to get desired time range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        subcatchment : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The subcatchment index or name.</span>

<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The attribute index or name.</span>

<span class="sd">            On of:</span>

<span class="sd">            **rainfall, snow_depth, evap_loss, infil_loss, runoff_rate, gw_outflow_rate,</span>
<span class="sd">            gw_table_elev, soil_moisture**.</span>


<span class="sd">            Defaults to: `(&#39;rainfall&#39;,&#39;runoff_rate&#39;,&#39;gw_outflow_rate&#39;).`</span>


<span class="sd">            You can also input the integer index of the attribute you would like to</span>
<span class="sd">            pull or the actual enum from swmm.toolkit.shared_enum.SubcatchAttribute.</span>

<span class="sd">            Setting to None indicates all attributes.</span>

<span class="sd">        start : Union[str,int, datetime, None], optional</span>
<span class="sd">            The start datetime or index of from which to return series, defaults to None.</span>

<span class="sd">            Setting to None indicates simulation start.</span>

<span class="sd">        end : Union[str,int, datetime, None], optional</span>
<span class="sd">            The end datetime or index of from which to return series, defaults to None.</span>

<span class="sd">            Setting to None indicates simulation end.</span>

<span class="sd">        columns: Optional[str], optional</span>
<span class="sd">            Decide whether or not to break out elements or attributes as columns. May be one of:</span>

<span class="sd">            None   : Return long-form data with one column for each data point</span>

<span class="sd">            &#39;elem&#39; : Return data with a column for each element. If more than one attribute are given, attribute names are added to the index.</span>

<span class="sd">            &#39;attr&#39; : Return data with a column for each attribute. If more than one element are given, element names are added to the index.</span>

<span class="sd">            defaults to &#39;attr&#39;.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            A DataFrame or ndarray of attribute values in each column for requested</span>
<span class="sd">            date range and subcatchments.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">subcatchementArray</span><span class="p">,</span> <span class="n">subcatchmentIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateElement</span><span class="p">(</span>
            <span class="n">subcatchment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcatchments</span>
        <span class="p">)</span>

        <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateAttribute</span><span class="p">(</span>
            <span class="n">attribute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcatch_attributes</span>
        <span class="p">)</span>

        <span class="n">startIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">endIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">end</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_period</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_series</span><span class="p">(</span>
            <span class="n">subcatchmentIndexArray</span><span class="p">,</span>
            <span class="n">attributeIndexArray</span><span class="p">,</span>
            <span class="n">startIndex</span><span class="p">,</span>
            <span class="n">endIndex</span><span class="p">,</span>
            <span class="n">columns</span><span class="p">,</span>
            <span class="n">output</span><span class="o">.</span><span class="n">get_subcatch_series</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_series_index</span><span class="p">(</span>
            <span class="n">subcatchementArray</span><span class="p">,</span> <span class="n">attributeArray</span><span class="p">,</span> <span class="n">startIndex</span><span class="p">,</span> <span class="n">endIndex</span><span class="p">,</span> <span class="n">columns</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span></div>

<div class="viewcode-block" id="Output.node_series"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.node_series.html#swmm.pandas.Output.node_series">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">node_series</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">node</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;invert_depth&quot;</span><span class="p">,</span>
            <span class="s2">&quot;flooding_losses&quot;</span><span class="p">,</span>
            <span class="s2">&quot;total_inflow&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">start</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">end</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;attr&quot;</span><span class="p">,</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get one or more time series for one or more node attributes.</span>
<span class="sd">        Specify series start index and end index to get desired time range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The node index or name.</span>

<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The attribute index or name.</span>

<span class="sd">            On of:</span>

<span class="sd">            **invert_depth, hydraulic_head, ponded_volume, lateral_inflow,</span>
<span class="sd">            total_inflow, flooding_losses**.</span>

<span class="sd">            defaults to: `(&#39;invert_depth&#39;,&#39;flooding_losses&#39;,&#39;total_inflow&#39;)`</span>

<span class="sd">            You can also input the integer index of the attribute you would like to</span>
<span class="sd">            pull or the actual enum from swmm.toolkit.shared_enum.NodeAttribute.</span>

<span class="sd">            Setting to None indicates all attributes.</span>

<span class="sd">        start : Union[str, int, datetime, None], optional</span>
<span class="sd">            The start datetime or index of from which to return series, defaults to None.</span>

<span class="sd">            Setting to None indicates simulation start.</span>

<span class="sd">        end : Union[str, int, datetime, None], optional</span>
<span class="sd">            The end datetime or index of from which to return series, defaults to None.</span>

<span class="sd">            Setting to None indicates simulation end.</span>

<span class="sd">        columns: Optional[str], optional</span>
<span class="sd">            Decide whether or not to break out elements or attributes as columns. May be one of:</span>

<span class="sd">            None   : Return long-form data with one column for each data point</span>

<span class="sd">            &#39;elem&#39; : Return data with a column for each element. If more than one attribute are given, attribute names are added to the index.</span>

<span class="sd">            &#39;attr&#39; : Return data with a column for each attribute. If more than one element are given, element names are added to the index.</span>

<span class="sd">            defaults to &#39;attr&#39;.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            A DataFrame or ndarray of attribute values in each column for requested</span>
<span class="sd">            date range and nodes.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodeArray</span><span class="p">,</span> <span class="n">nodeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateElement</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>

        <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateAttribute</span><span class="p">(</span>
            <span class="n">attribute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_attributes</span>
        <span class="p">)</span>

        <span class="n">startIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">endIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">end</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_period</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_series</span><span class="p">(</span>
            <span class="n">nodeIndexArray</span><span class="p">,</span>
            <span class="n">attributeIndexArray</span><span class="p">,</span>
            <span class="n">startIndex</span><span class="p">,</span>
            <span class="n">endIndex</span><span class="p">,</span>
            <span class="n">columns</span><span class="p">,</span>
            <span class="n">output</span><span class="o">.</span><span class="n">get_node_series</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_series_index</span><span class="p">(</span>
            <span class="n">nodeArray</span><span class="p">,</span> <span class="n">attributeArray</span><span class="p">,</span> <span class="n">startIndex</span><span class="p">,</span> <span class="n">endIndex</span><span class="p">,</span> <span class="n">columns</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span></div>

<div class="viewcode-block" id="Output.link_series"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.link_series.html#swmm.pandas.Output.link_series">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">link_series</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">link</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;flow_rate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;flow_velocity&quot;</span><span class="p">,</span>
            <span class="s2">&quot;flow_depth&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">start</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">end</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;attr&quot;</span><span class="p">,</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get one or more time series for one or more link attributes.</span>
<span class="sd">        Specify series start index and end index to get desired time range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        link : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The link index or name.</span>

<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The attribute index or name.</span>

<span class="sd">            On of:</span>

<span class="sd">            **flow_rate, flow_depth, flow_velocity, flow_volume, capacity**.</span>

<span class="sd">            defaults to: `(&#39;flow_rate&#39;,&#39;flow_velocity&#39;,&#39;flow_depth&#39;)`</span>

<span class="sd">            You can also input the integer index of the attribute you would like to</span>
<span class="sd">            pull or the actual enum from swmm.toolkit.shared_enum.LinkAttribute.</span>

<span class="sd">            Setting to None indicates all attributes.</span>

<span class="sd">        start_index : Union[str,int, datetime, None], optional</span>
<span class="sd">            The start datetime or index of from which to return series, defaults to None.</span>

<span class="sd">            Setting to None indicates simulation start.</span>

<span class="sd">        end_index : Union[str,int, datetime, None], optional</span>
<span class="sd">            The end datetime or index of from which to return series, defaults to None.</span>

<span class="sd">            Setting to None indicates simulation end.</span>

<span class="sd">        columns: Optional[str], optional</span>
<span class="sd">            Decide whether or not to break out elements or attributes as columns. May be one of:</span>

<span class="sd">            None   : Return long-form data with one column for each data point</span>

<span class="sd">            &#39;elem&#39; : Return data with a column for each element. If more than one attribute are given, attribute names are added to the index.</span>

<span class="sd">            &#39;attr&#39; : Return data with a column for each attribute. If more than one element are given, element names are added to the index.</span>

<span class="sd">            defaults to &#39;attr&#39;.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            A DataFrame or ndarray of attribute values in each column for requested</span>
<span class="sd">            date range and links.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">linkArray</span><span class="p">,</span> <span class="n">linkIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateElement</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">links</span><span class="p">)</span>

        <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateAttribute</span><span class="p">(</span>
            <span class="n">attribute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">link_attributes</span>
        <span class="p">)</span>

        <span class="n">startIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">endIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">end</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_period</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_series</span><span class="p">(</span>
            <span class="n">linkIndexArray</span><span class="p">,</span>
            <span class="n">attributeIndexArray</span><span class="p">,</span>
            <span class="n">startIndex</span><span class="p">,</span>
            <span class="n">endIndex</span><span class="p">,</span>
            <span class="n">columns</span><span class="p">,</span>
            <span class="n">output</span><span class="o">.</span><span class="n">get_link_series</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_series_index</span><span class="p">(</span>
            <span class="n">linkArray</span><span class="p">,</span> <span class="n">attributeArray</span><span class="p">,</span> <span class="n">startIndex</span><span class="p">,</span> <span class="n">endIndex</span><span class="p">,</span> <span class="n">columns</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span></div>

<div class="viewcode-block" id="Output.system_series"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.system_series.html#swmm.pandas.Output.system_series">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">system_series</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">end</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get one or more a time series for one or more system attributes.</span>
<span class="sd">        Specify series start index and end index to get desired time range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The attribute index or name.</span>

<span class="sd">            On of:</span>

<span class="sd">            **air_temp, rainfall, snow_depth, evap_infil_loss, runoff_flow,</span>
<span class="sd">            dry_weather_inflow, gw_inflow, rdii_inflow, direct_inflow, total_lateral_inflow,</span>
<span class="sd">            flood_losses, outfall_flows, volume_stored, evap_rate**.</span>

<span class="sd">            defaults to `None`.</span>

<span class="sd">            You can also input the integer index of the attribute you would like to</span>
<span class="sd">            pull or the actual enum from swmm.toolkit.shared_enum.SystemAttribute.</span>

<span class="sd">            Setting to None indicates all attributes.</span>

<span class="sd">        start_index : Union[str, int, datetime, None], optional</span>
<span class="sd">            The start datetime or index of from which to return series, defaults to None.</span>

<span class="sd">            Setting to None indicates simulation start.</span>

<span class="sd">        end_index : Union[str, int, datetime, None], optional</span>
<span class="sd">            The end datetime or index of from which to return series, defaults to None.</span>

<span class="sd">            Setting to None indicates simulation end.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            DataFrame or ndarray of attribute values in each column for request date range</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateAttribute</span><span class="p">(</span>
            <span class="n">attribute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_attributes</span>
        <span class="p">)</span>

        <span class="n">startIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">endIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">end</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_period</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">output</span><span class="o">.</span><span class="n">get_system_series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">sysAttr</span><span class="p">,</span> <span class="n">startIndex</span><span class="p">,</span> <span class="n">endIndex</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">sysAttr</span> <span class="ow">in</span> <span class="n">attributeIndexArray</span>
            <span class="p">],</span>
            <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span><span class="p">[</span><span class="n">startIndex</span><span class="p">:</span><span class="n">endIndex</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;datetime&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">attributeArray</span><span class="p">)</span></div>

    <span class="c1">####### attribute getters #######</span>

<div class="viewcode-block" id="Output.subcatch_attribute"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.subcatch_attribute.html#swmm.pandas.Output.subcatch_attribute">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">subcatch_attribute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">time</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">],</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;rainfall&quot;</span><span class="p">,</span>
            <span class="s2">&quot;runoff_rate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;gw_outflow_rate&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;For all subcatchments at a given time, get a one or more attributes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        time : Union[str, int, datetime]</span>
<span class="sd">            The datetime or simulation index for which to pull data, defaults to None.</span>

<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The attribute index or name.</span>

<span class="sd">            On of:</span>

<span class="sd">            **rainfall, snow_depth, evap_loss, infil_loss, runoff_rate, gw_outflow_rate,</span>
<span class="sd">            gw_table_elev, soil_moisture**.</span>

<span class="sd">            Defaults to: `(&#39;rainfall&#39;,&#39;runoff_rate&#39;,&#39;gw_outflow_rate&#39;).`</span>

<span class="sd">            You can also input the integer index of the attribute you would like to</span>
<span class="sd">            pull or the actual enum from swmm.toolkit.shared_enum.SubcatchAttribute.</span>

<span class="sd">            Setting to None indicates all attributes.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame, np.ndarray]</span>
<span class="sd">            A DataFrame or ndarray of attribute values in each column for requested simulation time.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateAttribute</span><span class="p">(</span>
            <span class="n">attribute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcatch_attributes</span>
        <span class="p">)</span>

        <span class="n">timeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">([</span><span class="n">time</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">output</span><span class="o">.</span><span class="n">get_subcatch_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">timeIndex</span><span class="p">,</span> <span class="n">scAttr</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">scAttr</span> <span class="ow">in</span> <span class="n">attributeIndexArray</span>
            <span class="p">],</span>
            <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcatchments</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;subcatchment&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">attributeArray</span><span class="p">)</span></div>

<div class="viewcode-block" id="Output.node_attribute"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.node_attribute.html#swmm.pandas.Output.node_attribute">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">node_attribute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">time</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">],</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;invert_depth&quot;</span><span class="p">,</span>
            <span class="s2">&quot;flooding_losses&quot;</span><span class="p">,</span>
            <span class="s2">&quot;total_inflow&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;For all nodes at a given time, get one or more attributes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        time : Union[str, int, datetime]</span>
<span class="sd">            The datetime or simulation index for which to pull data, defaults to None</span>

<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The attribute index or name.</span>

<span class="sd">            On of:</span>

<span class="sd">            **invert_depth, hydraulic_head, ponded_volume, lateral_inflow,</span>
<span class="sd">            total_inflow, flooding_losses**.</span>

<span class="sd">            defaults to: `(&#39;invert_depth&#39;,&#39;flooding_losses&#39;,&#39;total_inflow&#39;)`</span>

<span class="sd">            You can also input the integer index of the attribute you would like to</span>
<span class="sd">            pull or the actual enum from swmm.toolkit.shared_enum.NodeAttribute.</span>

<span class="sd">            Setting to None indicates all attributes.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame, np.ndarray]</span>
<span class="sd">            A DataFrame or ndarray of attribute values in each column for requested simulation time.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateAttribute</span><span class="p">(</span>
            <span class="n">attribute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_attributes</span>
        <span class="p">)</span>

        <span class="n">timeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">([</span><span class="n">time</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">output</span><span class="o">.</span><span class="n">get_node_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">timeIndex</span><span class="p">,</span> <span class="n">ndAttr</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ndAttr</span> <span class="ow">in</span> <span class="n">attributeIndexArray</span>
            <span class="p">],</span>
            <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">attributeArray</span><span class="p">)</span></div>

<div class="viewcode-block" id="Output.link_attribute"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.link_attribute.html#swmm.pandas.Output.link_attribute">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">link_attribute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">time</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">],</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;flow_rate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;flow_velocity&quot;</span><span class="p">,</span>
            <span class="s2">&quot;flow_depth&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;For all links at a given time, get one or more attributes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        time : Union[str, int, datetime]</span>
<span class="sd">            The datetime or simulation index for which to pull data, defaults to None.</span>

<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The attribute index or name.</span>

<span class="sd">            On of:</span>

<span class="sd">            flow_rate, flow_depth, flow_velocity, flow_volume, capacity,</span>

<span class="sd">            defaults to `(&#39;flow_rate&#39;,&#39;flow_velocity&#39;,&#39;flow_depth&#39;)`</span>

<span class="sd">            You can also input the integer index of the attribute you would like to</span>
<span class="sd">            pull or the actual enum from swmm.toolkit.shared_enum.LinkAttribute.</span>

<span class="sd">            Setting to None indicates all attributes.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.DataFrame</span>
<span class="sd">            A DataFrame of attribute values in each column for requested simulation time.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateAttribute</span><span class="p">(</span>
            <span class="n">attribute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">link_attributes</span>
        <span class="p">)</span>

        <span class="n">timeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">([</span><span class="n">time</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">output</span><span class="o">.</span><span class="n">get_link_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">timeIndex</span><span class="p">,</span> <span class="n">lnkAttr</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">lnkAttr</span> <span class="ow">in</span> <span class="n">attributeIndexArray</span>
            <span class="p">],</span>
            <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;link&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">attributeArray</span><span class="p">)</span></div>

<div class="viewcode-block" id="Output.system_attribute"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.system_attribute.html#swmm.pandas.Output.system_attribute">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">system_attribute</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">time</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">],</span>
        <span class="n">attribute</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">asframe</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;For all nodes at given time, get a one or more attributes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        time : Union[str, int, datetime]</span>
<span class="sd">            The datetime or simulation index for which to pull data, defaults to None.</span>

<span class="sd">        attribute : Union[int, str, Sequence[Union[int, str]], None]</span>
<span class="sd">            The attribute index or name.</span>

<span class="sd">            On of:</span>

<span class="sd">            **air_temp, rainfall, snow_depth, evap_infil_loss, runoff_flow,</span>
<span class="sd">            dry_weather_inflow, gw_inflow, rdii_inflow, direct_inflow, total_lateral_inflow,</span>
<span class="sd">            flood_losses, outfall_flows, volume_stored, evap_rate**.</span>

<span class="sd">            defaults to `None`.</span>

<span class="sd">            You can also input the integer index of the attribute you would like to</span>
<span class="sd">            pull or the actual enum from swmm.toolkit.shared_enum.SystemAttribute.</span>

<span class="sd">            Setting to None indicates all attributes.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            A DataFrame of attribute values in each column for requested simulation time.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">attributeArray</span><span class="p">,</span> <span class="n">attributeIndexArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateAttribute</span><span class="p">(</span>
            <span class="n">attribute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_attributes</span>
        <span class="p">)</span>

        <span class="n">timeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">([</span><span class="n">time</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">output</span><span class="o">.</span><span class="n">get_system_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">timeIndex</span><span class="p">,</span> <span class="n">sysAttr</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">sysAttr</span> <span class="ow">in</span> <span class="n">attributeIndexArray</span>
            <span class="p">]</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">attributeArray</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;attribute&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">])</span></div>

    <span class="c1">####### result getters #######</span>

<div class="viewcode-block" id="Output.subcatch_result"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.subcatch_result.html#swmm.pandas.Output.subcatch_result">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">subcatch_result</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">subcatchment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">time</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;For a subcatchment at one or more given times, get all attributes.</span>

<span class="sd">        Only one of `subcatchment` or `time` can be multiple (eg. a list), not both.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        subcatchment : Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The subcatchment(s) name(s) or index(s).</span>

<span class="sd">        time: Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            THe datetime(s) or simulation index(s).</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            A DataFrame or ndarray of all attribute values subcatchment(s) at given time(s).</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subcatchment</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Can only have multiple of one of subcatchment and time&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subcatchment</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">):</span>
            <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;subcatchment&quot;</span>
            <span class="n">labels</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateElement</span><span class="p">(</span><span class="n">subcatchment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcatchments</span><span class="p">)</span>
            <span class="n">timeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">([</span><span class="n">time</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">output</span><span class="o">.</span><span class="n">get_subcatch_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">timeIndex</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;datetime&quot;</span>
            <span class="n">times</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span> <span class="k">if</span> <span class="n">time</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_1d</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">times</span><span class="p">)</span>

            <span class="c1"># since the timeIndex matches on nearst, we rebuild</span>
            <span class="c1"># the label in case it wasn&#39;t exact</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span>
            <span class="n">subcatchmentIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subcatchmentIndex</span><span class="p">(</span><span class="n">subcatchment</span><span class="p">)</span>

            <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span>
                <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">output</span><span class="o">.</span><span class="n">get_subcatch_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">subcatchmentIndex</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span>
                    <span class="p">]</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subcatch_attributes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Output.node_result"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.node_result.html#swmm.pandas.Output.node_result">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">node_result</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">node</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">time</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;For one or more nodes at one or more given times, get all attributes.</span>

<span class="sd">        Only one of `node` or `time` can be multiple (eg. a list), not both.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node : Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The node(s) name(s) or index(s).</span>

<span class="sd">        time: Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The datetime(s) or simulation index(s).</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            A DataFrame or ndarray of all attribute values nodes(s) at given time(s).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Can only have multiple of one of node and time&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">):</span>
            <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;node&quot;</span>
            <span class="n">labels</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateElement</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
            <span class="n">timeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">([</span><span class="n">time</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">output</span><span class="o">.</span><span class="n">get_node_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">timeIndex</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;datetime&quot;</span>
            <span class="n">times</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span> <span class="k">if</span> <span class="n">time</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_1d</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">times</span><span class="p">)</span>

            <span class="c1"># since the timeIndex matches on nearst, we rebuild</span>
            <span class="c1"># the label in case it wasn&#39;t exact</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span>
            <span class="n">nodeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodeIndex</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

            <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span>
                <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">output</span><span class="o">.</span><span class="n">get_node_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">nodeIndex</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span>
                    <span class="p">]</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_attributes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Output.link_result"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.link_result.html#swmm.pandas.Output.link_result">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">link_result</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">link</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">time</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">asframe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;For a link at one or more given times, get all attributes.</span>

<span class="sd">        Only one of link or time can be multiple.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        link : Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The link(s) name(s) or index(s).</span>

<span class="sd">        time: Union[int, str, Sequence[Union[int, str]], None],</span>
<span class="sd">            The datetime(s) or simulation index(s).</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            A DataFrame or ndarray of all attribute values link(s) at given time(s).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Can only have multiple of one of link and time&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">arrayish</span><span class="p">):</span>
            <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;link&quot;</span>
            <span class="n">labels</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validateElement</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">links</span><span class="p">)</span>
            <span class="n">timeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">([</span><span class="n">time</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">output</span><span class="o">.</span><span class="n">get_link_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">timeIndex</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;datetime&quot;</span>
            <span class="n">times</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span> <span class="k">if</span> <span class="n">time</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_1d</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">(</span><span class="n">times</span><span class="p">)</span>

            <span class="c1"># since the timeIndex matches on nearst, we rebuild</span>
            <span class="c1"># the label in case it wasn&#39;t exact</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeIndex</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span>

            <span class="n">linkIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_linkIndex</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span>
                <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">output</span><span class="o">.</span><span class="n">get_link_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">linkIndex</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span>
                    <span class="p">]</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">link_attributes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Output.system_result"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.system_result.html#swmm.pandas.Output.system_result">[docs]</a>    <span class="nd">@output_open_handler</span>
    <span class="k">def</span> <span class="nf">system_result</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">time</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">datetime</span><span class="p">],</span>
        <span class="n">asframe</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;For a given time, get all system attributes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        time : Union[str, int, datetime]</span>
<span class="sd">            The datetime or simulation index.</span>

<span class="sd">        asframe: bool</span>
<span class="sd">            A switch to return an indexed DataFrame. Set to False to get an array of values only, defaults to True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Union[pd.DataFrame,np.ndarray]</span>
<span class="sd">            A DataFrame of attribute values in each row for requested simulation time.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">timeIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time2step</span><span class="p">([</span><span class="n">time</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">get_system_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">timeIndex</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">asframe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="n">dfIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">system_attributes</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;attribute&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dfIndex</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Result&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="Output.getStructure"><a class="viewcode-back" href="../../../../reference/api/swmm.pandas.Output.getStructure.html#swmm.pandas.Output.getStructure">[docs]</a>    <span class="k">def</span> <span class="nf">getStructure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a structure object for a given list of links and nodes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        link : Union[str, Sequence[str]]</span>
<span class="sd">            The list of links that belong to the structure.</span>
<span class="sd">        node : Union[str, Sequence[str]]</span>
<span class="sd">            The list of nodes that below to the structure.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Structure</span>
<span class="sd">            Structure comprised of the given links and nodes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Structure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span></div>

    <span class="c1"># close outfile when object deleted</span>
    <span class="c1"># this doesn&#39;t always get called on sys.exit()</span>
    <span class="c1"># better to use output object with context</span>
    <span class="c1"># manager to ensure _open() and _close() are always closed</span>
    <span class="c1"># in some cases, you can get a memory leak message from swig:</span>
    <span class="c1"># &gt;&gt;&gt; exit()</span>
    <span class="c1"># swig/python detected a memory leak of type &#39;struct Handle *&#39;, no destructor found.</span>
    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Destructor for outfile handle</span>

<span class="sd">        :return: Nothing</span>
<span class="sd">        :rtype: NoReturn</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_close</span><span class="p">()</span>

    <span class="c1"># method used for context manager with statement</span>
    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># method used for context manager with statement</span>
    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_close</span><span class="p">()</span></div>
</pre></div>

              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Constantine Karos.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>